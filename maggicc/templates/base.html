<!doctype html>

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8" />

    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />

    <title>{% block title %}{% if page and page.title %} {{page.title}} | {% endif %}Federico Maggi - DEI, Politecnico di Milano{% endblock title %}</title>

    <!-- Fonts -->
    <link href="http://fonts.googleapis.com/css?family=Oswald|Josefin+Sans:300,400|Open+Sans|Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    
    <!-- CSS -->
    {% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='lib/foundation/stylesheets/foundation.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='stylesheets/foundation/app.icons.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='stylesheets/foundation/app.css') }}">

    <script type="text/javascript" src="{{ url_for('static', filename='lib/foundation/javascripts/modernizr.foundation.js') }}"></script>

    <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <!--[if lt IE 9]><link rel="stylesheet" href="{{ url_for('static', filename='lib/foundation/stylesheets/ie.css') }}"><![endif]-->

    <!--leaflet-->
    <link rel="stylesheet" href="{{ url_for('static', filename='lib/leaflet/dist/leaflet.css') }}" />
    <!--[if lte IE 8]><link rel="stylesheet" href="{{ url_for('static', filename='lib/leaflet.ie.css') }}" /><![endif]-->
    {% endblock css %}
    <script type="text/javascript" src="{{ url_for('static', filename='lib/leaflet/dist/leaflet.js') }}"></script>
</head>

<body>
    <nav class="top-bar fixed">
        <ul>
            <li class="name"><h1><a href="/">federico<strong>maggi</strong></a></h1></li>
            <li class="divider"></li>
            <li class="toggle-topbar"><a href="#"></a></li>
        </ul>

        <section>
            <ul class="left">
                <li class="claim">researcher and <a href="http://federicomaggi.com">photographer</a>.</li>
            </ul>
            <ul class="right">
                {% for slug, page in pages.iteritems() %}
                    {% if page.visible %}
                    <li class="{{ slug }} {% if current == slug %}active {% endif %}"><a href="/{{ slug }}">{{ page.title }}</a></li>
                        <li class="divider"></li>
                    {% endif %}
                {% endfor %}
            </ul>
        </section>
    </nav>

    <div id="page">
      <!-- page/ -->
      {% block page %}
      
      <!-- header/ -->
      {% block header %}
      <header id="title" class="row">
        {% block header_title %}
            <div class="twelve columns">
                <h2>{% block inner_title %}{{page.title}}{% endblock %}</h2>
            </div>
        {% endblock %}
        {% block postheader %}{% endblock %}
      </header>
      {% endblock header %}
      <!-- /header -->
      
      <hr />

      <div class="row">
        <!-- content/ -->
        {% block content %}{% endblock content %}
        <!-- /content -->
      </div>

      {% endblock page %}
      <!-- /page -->

      <hr />

      <footer class="row">
        <!-- footer/ -->
        {% block footer %}
        <div class="five columns">
            &copy; 2012, Federico Maggi. Some rights are reserved.
        </div>
        <div class="four columns offset-by-three">
          <p class="right">Powered by <a href="http://foundation.zurb.com">Zurb Foundation</a> and <a href="http://flask.pocoo.org">Flask</a>.</p>
        </div>
        {% endblock footer %}
        <!-- /footer -->
      </footer>

    <!--Scripts-->
    {% block scripts %}
    <script type="text/javascript" src="{{ url_for('static', filename='lib/foundation/javascripts/jquery.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='lib/foundation/javascripts/foundation.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='javascripts/foundation/app.js') }}"></script>
    {% endblock scripts %}

  </body>
</html>
